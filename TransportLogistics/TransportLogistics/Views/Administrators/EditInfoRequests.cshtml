@model IEnumerable<TransportLogistics.Model.PersonalInfoRequest>
@{
    ViewData["Title"] = "EditInfoRequests";
}

<link rel="stylesheet" type="text/css" href="~/lib/datatables/datatables.min.css" />
<link rel="stylesheet" type="text/css" href="~/lib/datatables/Responsive-2.2.3/css/responsive.bootstrap4.css" />
<link rel="stylesheet" type="text/css" href="~/lib/datatables/Responsive-2.2.3/css/responsive.dataTables.min.css" />
<script type="text/javascript" src="~/lib/datatables/datatables.min.js"></script>
<script type="text/javascript" src="~/lib/datatables/Responsive-2.2.3/js/dataTables.responsive.min.js"></script>

<div id="requestsContainer">
    <partial name="_RequestsTable" model="@Model" />
</div>
<script>
    $(document).ready(function () {
        $('#Requests').DataTable({ responsive: true, lengthMenu: [5, 10, 25, 50] });
    });
    function cancelRequest(id) {

        loadServerPartialView('#requestsContainer', '/Administrators/RejectEditInfoRequest?requestId='+id).done(function () {
            $('#Requests').DataTable({ responsive: true, lengthMenu: [5, 10, 25, 50] });
        });
    }
    function approveRequest(id) {
        loadServerPartialView('#requestsContainer', '/Administrators/ApproveEditInfoRequest?requestId=' + id).done(function () {
            $('#Requests').DataTable({ responsive: true, lengthMenu: [5, 10, 25, 50] });
        });
    }
</script>