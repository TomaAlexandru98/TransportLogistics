!function(o){"function"==typeof define&&define.amd?define(["jquery","datatables.net","datatables.net-buttons"],function(n){return o(n,window,document)}):"object"==typeof exports?module.exports=function(n,t){return n=n||window,t&&t.fn.dataTable||(t=require("datatables.net")(n,t).$),t.fn.dataTable.Buttons||require("datatables.net-buttons")(n,t),o(t,0,n.document)}:o(jQuery,window,document)}(function(n,t,o,c){"use strict";var e=n.fn.dataTable;return n.extend(e.ext.buttons,{colvis:function(n,t){return{extend:"collection",text:function(n){return n.i18n("buttons.colvis","Column visibility")},className:"buttons-colvis",buttons:[{extend:"columnsToggle",columns:t.columns,columnText:t.columnText}]}},columnsToggle:function(n,t){return n.columns(t.columns).indexes().map(function(n){return{extend:"columnToggle",columns:n,columnText:t.columnText}}).toArray()},columnToggle:function(n,t){return{extend:"columnVisibility",columns:t.columns,columnText:t.columnText}},columnsVisibility:function(n,t){return n.columns(t.columns).indexes().map(function(n){return{extend:"columnVisibility",columns:n,visibility:t.visibility,columnText:t.columnText}}).toArray()},columnVisibility:{columns:c,text:function(n,t,o){return o._columnText(n,o)},className:"buttons-columnVisibility",action:function(n,t,o,e){var i=t.columns(e.columns),u=i.visible();i.visible(e.visibility!==c?e.visibility:!(u.length&&u[0]))},init:function(i,n,u){var c=this;i.on("column-visibility.dt"+u.namespace,function(n,t){t.bDestroying||c.active(i.column(u.columns).visible())}).on("column-reorder.dt"+u.namespace,function(n,t,o){if(1===i.columns(u.columns).count()){"number"==typeof u.columns&&(u.columns=o.mapping[u.columns]);var e=i.column(u.columns);c.text(u._columnText(i,u)),c.active(e.visible())}}),this.active(i.column(u.columns).visible())},destroy:function(n,t,o){n.off("column-visibility.dt"+o.namespace).off("column-reorder.dt"+o.namespace)},_columnText:function(n,t){var o=n.column(t.columns).index(),e=n.settings()[0].aoColumns[o].sTitle.replace(/\n/g," ").replace(/<.*?>/g,"").replace(/^\s+|\s+$/g,"");return t.columnText?t.columnText(n,o,e):e}},colvisRestore:{className:"buttons-colvisRestore",text:function(n){return n.i18n("buttons.colvisRestore","Restore visibility")},init:function(t,n,o){o._visOriginal=t.columns().indexes().map(function(n){return t.column(n).visible()}).toArray()},action:function(n,o,t,e){o.columns().every(function(n){var t=o.colReorder&&o.colReorder.transpose?o.colReorder.transpose(n,"toOriginal"):n;this.visible(e._visOriginal[t])})}},colvisGroup:{className:"buttons-colvisGroup",action:function(n,t,o,e){t.columns(e.show).visible(!0,!1),t.columns(e.hide).visible(!1,!1),t.columns.adjust()},show:[],hide:[]}}),e.Buttons});